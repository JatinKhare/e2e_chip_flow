# 32-BIT ADDER BLOCK DIAGRAM
# ASCII Architecture Diagram

===============================================================================
                        TOP-LEVEL BLOCK DIAGRAM
===============================================================================

                           ┌─────────────────────────────────────────┐
                           │        32-BIT RIPPLE-CARRY ADDER        │
                           │              (TOP MODULE)                │
                           └─────────────────────────────────────────┘
                                             │
        ┌────────────────────────────────────┴────────────────────────────────┐
        │                                                                      │
        │  INPUTS:                              OUTPUTS:                      │
        │  ┌──────────────────┐                ┌──────────────────┐          │
        │  │ a[31:0]          │────────────────▶│ sum[31:0]        │          │
        │  │ b[31:0]          │────────────────▶│ carry_out        │          │
        │  │ carry_in         │                │ overflow         │          │
        │  │ clk              │                └──────────────────┘          │
        │  │ rst_n            │                                               │
        │  └──────────────────┘                                               │
        │                                                                      │
        └──────────────────────────────────────────────────────────────────────┘


===============================================================================
                        DETAILED INTERNAL ARCHITECTURE
===============================================================================

    clk ────┐                                                    ┌──── clk
    rst_n ──┤                                                    ├──── rst_n
            │                                                    │
            ▼                                                    ▼
      ┌──────────┐                                        ┌──────────┐
      │  INPUT   │                                        │  OUTPUT  │
      │ REGISTER │                                        │ REGISTER │
      │  STAGE   │                                        │  STAGE   │
      └──────────┘                                        └──────────┘
            │                                                    ▲
            │ a[31:0]    b[31:0]    carry_in                   │
            └────┬──────────┬────────────┬─────────────────────┘
                 │          │            │
                 ▼          ▼            ▼
         ┌───────────────────────────────────────────────┐
         │                                                │
         │           32-BIT RIPPLE CARRY CHAIN            │
         │                                                │
         │  ┌────┐  ┌────┐  ┌────┐         ┌────┐       │
         │  │FA 0│─▶│FA 1│─▶│FA 2│─▶ ... ─▶│FA31│       │
         │  └────┘  └────┘  └────┘         └────┘       │
         │    ▲       ▲       ▲               ▲          │
         │    │       │       │               │          │
         │   a[0]    a[1]    a[2]           a[31]        │
         │   b[0]    b[1]    b[2]           b[31]        │
         │    │       │       │               │          │
         │    ▼       ▼       ▼               ▼          │
         │  sum[0]  sum[1]  sum[2]  ...    sum[31]      │
         │                                                │
         │  Carry propagation: c[0] → c[1] → ... → c[32]│
         │                                                │
         └───────────────────────────────────────────────┘
                                    │
                                    │ carry_out = c[32]
                                    ▼
                            ┌───────────────┐
                            │   OVERFLOW    │
                            │   DETECTION   │
                            │     LOGIC     │
                            └───────────────┘
                                    │
                                    ▼
                                overflow


===============================================================================
                        FULL ADDER (FA) CELL DETAIL
===============================================================================

Each Full Adder cell implements:

                    ┌─────────────────────┐
         a[i] ─────▶│                     │
         b[i] ─────▶│    FULL ADDER       │────▶ sum[i]
         c[i] ─────▶│      (FA_i)         │
                    │                     │────▶ c[i+1]
                    └─────────────────────┘

Equations:
    sum[i]   = a[i] ⊕ b[i] ⊕ c[i]              (XOR)
    c[i+1]   = (a[i] & b[i]) | (c[i] & (a[i] ⊕ b[i]))  (Majority function)

Gate-level implementation:
    - 2 XOR gates for sum
    - 2 AND gates + 1 OR gate for carry
    Total: ~5 gates per bit × 32 bits = ~160 gates for core adder


===============================================================================
                        CARRY PROPAGATION CHAIN
===============================================================================

Ripple-Carry Propagation (Worst Case: bit 0 → bit 31):

c[0]=cin ──▶ FA0 ──c[1]──▶ FA1 ──c[2]──▶ FA2 ──c[3]──▶ FA3 ──▶ ... 
                                                                     │
         ... ──▶ FA28 ──c[29]──▶ FA29 ──c[30]──▶ FA30 ──c[31]──▶ FA31 ──c[32]=cout

Critical Path: 32 carry propagations × ~0.25ns/stage ≈ 8ns


===============================================================================
                        OVERFLOW DETECTION LOGIC
===============================================================================

Overflow occurs when:
- Adding two positive numbers yields negative result
- Adding two negative numbers yields positive result

                    ┌─────────────────────────────┐
      a[31] ───────▶│                             │
      b[31] ───────▶│    OVERFLOW DETECTION       │────▶ overflow
    sum[31] ───────▶│                             │
                    └─────────────────────────────┘

Equation:
    overflow = (a[31] & b[31] & ~sum[31]) | (~a[31] & ~b[31] & sum[31])

Implementation: 5 gates (3 AND, 2 NOT, 1 OR)


===============================================================================
                        INTERFACE TIMING DIAGRAM
===============================================================================

Clock Cycle:  │<────── 10ns @ 100MHz ──────>│

              ┌───┐   ┌───┐   ┌───┐   ┌───┐
    clk       │   │   │   │   │   │   │   │
         ─────┘   └───┘   └───┘   └───┘   └─────

    a[31:0]  ─────XXXX═══════════════════XXXX─────
                     │                   │
    b[31:0]  ─────XXXX═══════════════════XXXX─────
                     │  Valid Data       │
    carry_in ───────X═══════════════════X─────
                     │<── Setup Time ──>│
                     │                   │
              ┌──────┴───────────────────┴──────┐
              │      Computation Period          │
              │      (Combinational)             │
              └──────┬───────────────────┬──────┘
                     │                   │
    sum[31:0] ───────════════XXXX═══════════─────
                             │  │
    carry_out ───────════════X═══════════────────
                             │  │
    overflow  ───────════════X═══════════────────
                             │<─ TCQ ─>│

    Legend:  ════ Valid Signal
             XXXX Transitioning/Unknown
             TCQ  Clock-to-Q Delay


===============================================================================
                        DATA FLOW SUMMARY
===============================================================================

1. INPUT CAPTURE:
   ┌──────────────────────────────────────────────────┐
   │ External signals → Input Register → Buffering    │
   └──────────────────────────────────────────────────┘

2. COMPUTATION:
   ┌──────────────────────────────────────────────────┐
   │ Bit 0 FA → Bit 1 FA → ... → Bit 31 FA           │
   │ Carry ripples through all 32 stages serially     │
   └──────────────────────────────────────────────────┘

3. POST-PROCESSING:
   ┌──────────────────────────────────────────────────┐
   │ Overflow Detection (parallel with final carry)   │
   └──────────────────────────────────────────────────┘

4. OUTPUT CAPTURE:
   ┌──────────────────────────────────────────────────┐
   │ Results → Output Register → External Interface   │
   └──────────────────────────────────────────────────┘


===============================================================================
                        AREA & RESOURCE ESTIMATE
===============================================================================

Component                  | Quantity | Gates/Unit | Total Gates
-----------------------------------------------------------------
Full Adder Cells           |    32    |     5      |    160
Overflow Logic             |     1    |     5      |      5
Input Registers (32-bit×2) |    64    |     6      |    384
Output Registers (32+2)    |    34    |     6      |    204
Control Logic              |     -    |    10      |     10
Clock Tree Buffers         |     -    |    20      |     20
-----------------------------------------------------------------
TOTAL                      |     -    |     -      |    783 gates

Estimated Area @ 28nm:
    783 gates × 1.2 μm² per gate ≈ 940 μm²  ✓ Meets target (<1000 μm²)


===============================================================================
                        POWER DISTRIBUTION
===============================================================================

                    VDD (1.0V)
                        │
        ┌───────────────┴───────────────┐
        │    Power Distribution Grid     │
        │    (Multiple V DD rails)        │
        └───────┬───────────────┬────────┘
                │               │
         ┌──────▼──────┐  ┌────▼──────┐
         │   Logic     │  │  Registers │
         │   Cells     │  │   (FFs)    │
         └──────┬──────┘  └────┬───────┘
                │               │
        ┌───────┴───────────────┴────────┐
        │        Ground Grid (VSS)        │
        └─────────────────────────────────┘

Power Rails:
    - VDD pads: 4 (one per corner)
    - VSS pads: 4 (one per corner)
    - Power mesh: M4/M5 stripes


===============================================================================
END OF BLOCK DIAGRAM
===============================================================================
